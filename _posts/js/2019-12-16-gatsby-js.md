---
layout: post
title: "Gatsby 101"
categories: [JavaScript]
icon-photo: gatsby.png
---

{% assign img-url = '/img/post/js' %}

{% include toc.html %}

{% notcomplete %}

{% updfreq %}

Jekyll is great but for a note-taking site like this site, it's slow. I decide to learn about Gatsby to make my note site more faster!

## To-do list

<div class="two-columns-list" markdown="1">
- [x] Deploy on localhost with a very basic site.
- [ ] Understand the structure of Gatsby site/theme.
- [ ] Do we need to understand React before?
- [ ] Apply Bootstrap.
- [ ] Apply my own custom theme.
- [ ] Deploy on Github and Netlify.
</div>

## Installation on localhost

Install [npm](https://www.npmjs.com/) and [NodeJS (with npm)](https://nodejs.org/en/). Check the current version: `npm -v` (for npm) and `node -v` (for nodejs). After that, you can install Gatsby,

~~~ bash
# install
npm install --global gatsby-cli
# check version
gatsby -v
~~~

If error `EACCES` occurs,

<div class="hide-show-box">
<button type="button" markdown="1" class="btn collapsed box-button" data-toggle="collapse" data-target="#box1ct">
Fix it on Linux
</button>
<div id="box1ct" markdown="1" class="collapse multi-collapse box-content">
- Create a new folder by: `mkdir ~/.npm-global`
- Open `~/.profile`
- Add following lines to this file

  ~~~ bash
  npm config set prefix '~/.npm-global'
  export PATH=~/.npm-global/bin:$PATH
  ~~~

- Save the file and then run (if you don't restart the computer, do the same below work for new tab of terminal): `source ~/.profile`.
</div>
</div>

Install new site with

~~~ bash
gatsby new gatsby-site # create a new site with name 'gatsby-site'
cd gatsby-site
gatsby develop # run the site at http://localhost:8000
~~~

You can view **GraphiQL**, an in-browser IDE, to explore your site's data and schema,

~~~ bash 
http://localhost:8000/___graphql
~~~

## Gatsby structure

- [Recipes](https://www.gatsbyjs.org/docs/recipes/) -- a cookbook on how to build things, Gatsby style.
- [Gatsby Project Structure](https://www.gatsbyjs.org/docs/gatsby-project-structure/) -- a tour of all the common folders and files.

## Apply Bootstrap

You can install a [Gatsby Bootstrap Starter](https://github.com/jaxx2104/gatsby-starter-bootstrap),

~~~ bash
gatsby new gatstrap https://github.com/jaxx2104/gatsby-starter-bootstrap
~~~

What if you wanna start from the beginning?

## References

- [Official documentation](https://www.gatsbyjs.org/docs/).
- [Migrate from Jekyll to Gatsby](https://www.gatsbyjs.org/blog/2017-11-08-migrate-from-jekyll-to-gatsby/) -- Nahuel Scotti.
- [Tutorials (step-by-step)](https://www.gatsbyjs.org/tutorial/) -- Gatsby Docs.


