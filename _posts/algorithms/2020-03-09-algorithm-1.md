---
layout: post
title: "Algorithm 1"
categories: [algorithms]
keywords: "chunker slide slicing rolling batches windows list sequence split imshow plot true false grid squares bernoulli distribution algorithm python"
---

{% assign img-url = '/img/post/algorithms' %}

{% include toc.html %}

This note contains questions/puzzle and algorithms to answer these problems. Most of the codes in this type of note are in [**Python**](/notes#python).

## Make chunkers / windows

Split a sequence into windows with size and slide.

~~~ python
def chunker(seq, size, slide=None, exact_size=False):
    if slide is None:
        slide = size
    if exact_size:
        return [seq[pos:pos + size] for pos in range(0, len(seq), slide) if len(seq[pos:pos + size]) == size]
    else:
        return [seq[pos:pos + size] for pos in range(0, len(seq), slide)]
~~~

<div class="d-md-flex" markdown="1">
{:.flex-fill.d-flex.overflow-auto}
~~~ python
seq = [i for i in range(10)]

chunker(seq, 3)
chunker(seq, 3, exact_size=True)
chunker(seq, 3, slide=2)
~~~

{:.output.flex-fill.d-flex}
~~~
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]
[[0, 1, 2], [3, 4, 5], [6, 7, 8]]
[[0, 1, 2], [2, 3, 4], [4, 5, 6], [6, 7, 8], [8, 9]]
~~~
</div>

## Plot a grid of squares

Based on Bernoulli distribution,

<div class="d-md-flex" markdown="1">
{:.flex-even.overflow-auto.pr-md-1}
~~~ python
# MORE understandable but executing SLOWER

N = 100
P = 0
im_size = 15

def bernoulli(num, P, N):
  return 1-np.random.binomial(1, P*num/N)

vfunc = np.vectorize(bernoulli)
image = np.array(range(1,N+1))
image = np.repeat(image.reshape(N, 1), N, axis=1)
image = vfunc(image, P, N)

plt.figure(figsize=(im_size, im_size))
plt.axis('off')
plt.imshow(image, cmap='gray')
plt.show(block=True)
~~~

{:.flex-even.overflow-auto.pl-md-1}
~~~ python
# LESS understandable but executing FASTER
N = 5
P = 1
im_size = 15

image = np.array(range(1,N+1))
image = np.repeat(image.reshape(N, 1), N, axis=1)
image = P/N * image
image = image <= np.random.rand(N,N)

plt.figure(figsize=(im_size, im_size))
plt.axis('off')
plt.imshow(image, cmap='gray')
plt.show(block=True)
~~~
</div>

{:.img-full-40}
![Bernoulli squares]({{img-url}}/bernoulli-squares.png)