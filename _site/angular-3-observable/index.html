<!DOCTYPE html><html domain=".com" lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="default-src 'self';object-src 'none';script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com/ https://gist.github.com/ https://www.googletagmanager.com/ https://www.google-analytics.com;connect-src 'self' https://www.google-analytics.com https://api.github.com;style-src 'self' https://fonts.googleapis.com/ https://use.fontawesome.com/ 'unsafe-inline' https://github.githubassets.com/ https://cdn.jsdelivr.net;img-src 'self' data:;font-src 'self' https://fonts.gstatic.com/ https://use.fontawesome.com/ https://cdn.jsdelivr.net" http-equiv="Content-Security-Policy"><link href="/favicon.svg" rel="icon" type="image/svg+xml"><meta content="#f9c412" name="theme-color"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name="robots"><title>Angular 3 - Observable</title><meta content="Angular 3 - Observable" prefix="og: http://ogp.me/ns#" property="og:title"><meta content="This is my note for the course &amp;quot;Angular - The Complete Guide (2021 Edition)&amp;quot; which is taught by Maximilian Schwarzmüller on Udemy...." name="description"><meta content="This is my note for the course &amp;quot;Angular - The Complete Guide (2021 Edition)&amp;quot; which is taught by Maximilian Schwarzmüller on Udemy...." prefix="og: http://ogp.me/ns#" property="og:description"><meta content="summary_large_image" name="twitter:card"><meta content="@dinhanhthi" name="twitter:site"><meta content="@dinhanhthi" name="twitter:creator"><meta content="https://dinhanhthi.com/img/remote/2hC4A2.png" prefix="og: http://ogp.me/ns#" property="og:image"><meta content="article" prefix="og: http://ogp.me/ns#" property="og:type"><link href="https://dinhanhthi.com/angular-3-observable/" rel="canonical"><meta content="https://dinhanhthi.com/angular-3-observable/" prefix="og: http://ogp.me/ns#" property="og:url"><meta content="no-referrer-when-downgrade" name="referrer"><link href="/feed/feed.xml" rel="alternate" type="application/atom+xml" title="🔥 Anh-Thi DINH"><link href="/" rel="preconnect" crossorigin=""><link href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css" rel="stylesheet"><script csp-hash="sha256-1krv3Gb414NWjc9OVes7p1DsVGXMgyXL7klj8V8OQJE=">if (/Mac OS X/.test(navigator.userAgent))
			document
				.documentElement
				.classList
				.add('apple')</script><style>@charset "UTF-8";@font-face{font-display:swap;font-family:"Poppins";font-style:normal;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-regular.eot);src:local("Poppins Regular"),local("Poppins-Regular"),url(/fonts/poppins/poppins-v15-latin-regular.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-regular.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-regular.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-regular.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-regular.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Poppins";font-style:italic;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-italic.eot);src:local("Poppins Italic"),local("Poppins-Italic"),url(/fonts/poppins/poppins-v15-latin-italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Poppins';font-style:normal;font-weight:600;src:url(/fonts/poppins/poppins-v15-latin-600.eot);src:local("Poppins SemiBold"),local("Poppins-SemiBold"),url(/fonts/poppins/poppins-v15-latin-600.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-600.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-600.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-600.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-600.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Poppins';font-style:italic;font-weight:600;src:url(/fonts/poppins/poppins-v15-latin-600italic.eot);src:local("Poppins SemiBold Italic"),local("Poppins-SemiBoldItalic"),url(/fonts/poppins/poppins-v15-latin-600italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-600italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-600italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-600italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-600italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Recoleta';src:url(/fonts/recoleta/Recoleta-Bold.woff2) format("woff2"),url(/fonts/recoleta/Recoleta-Bold.woff) format("woff"),url(/fonts/poppins/Recoleta-Bold.ttf) format("truetype");font-weight:700;font-style:bold}*{border:0;box-sizing:border-box}:root{font-size:16.5px}main img{content-visibility:auto}::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-thumb{background:#3e466b;border-radius:6px}::-webkit-scrollbar-thumb:hover{background:#aaa;cursor:pointer}::-webkit-scrollbar-track{background:#363948}::-webkit-scrollbar-corner{background:#282a36}body,html{font-family:"Poppins",Arial,Helvetica,sans-serif;font-size:16.5px}html{-webkit-text-size-adjust:100%}@supports (font-variation-settings:normal){html{font-family:"Poppins" var alt,Arial,Helvetica,sans-serif}}body{background:#282a36;color:#eee;margin:0;counter-reset:h2counter}b,strong{font-weight:600;color:#8cc8ff}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}a,a:hover{text-decoration:none}a:hover{border-bottom:2px solid #ffd479}a.no-effect:hover{border-bottom:none}.page-note h3:hover a:hover,.page-note>h2:hover a:hover,a,a b,a strong{color:#ffd479}.intro a,a b:hover,a strong:hover,a:hover{color:#fff}img{max-width:100%}main{margin:0 auto}.page-note h3,.page-note>h2,h1,h2,h3{font-family:"Recoleta",Arial,Helvetica,sans-serif}h1{font-size:29.7px}h2{font-size:24.75px}h3{font-size:21.5325px}.page-note h3,.page-note>h2{color:#eee}.page-note h3:hover .direct-link,.page-note>h2:hover .direct-link{display:inline-block}.page-note>h2{font-size:24.75px;margin:37.125px 0 19.8px}.page-note p+ol,.page-note p+ul,.page-note>h2+h3{margin-top:-.5rem}.page-note>h3{font-size:21.5325px;margin-bottom:19.8px}.page-note .direct-link{display:none;color:#777;border-bottom:none;margin-left:3px}.page-note pre+h2,.page-note pre+h3,.page-note>h3{margin-top:37.125px}.page-note h1{counter-reset:h2counter}.page-note h2{counter-reset:h3counter}.page-note h3{counter-reset:h4counter}.page-note h3:before{opacity:.5;content:counter(h2counter) "." counter(h3counter) ".  ";counter-increment:h3counter}.page-note h2:before{content:counter(h2counter) ".  ";counter-increment:h2counter;color:#8cc8ff}.container,header{width:100%;margin:0 auto}.normal{padding:0 16.5px;width:100%}@media (min-width:916.5px){.normal{width:900px}}.mt-2{margin-top:2rem}.page-index .container{padding:2rem 1rem 0}.page-index .main-cats{flex:0 1 calc(100% - 280px);padding-right:1rem}.page-index .main-cats>.category-wrapper{padding-bottom:1.5rem}.page-index .main-cats>.category-wrapper>.category{border:1px solid #3b3e54;border-radius:7px;height:fit-content;background:#2f3240;padding:2rem 1.5rem 1.5rem}.page-index .toc-index-container{flex:0 1 280px;position:sticky;top:60px;height:fit-content}.page-index .toc-index{border:1px solid #404040;border-radius:7px;height:fit-content;background:#35373c;padding:1rem 1.1rem}.page-index .toc-index h3{padding-bottom:5px;border-bottom:1px solid #555;margin:0 0 10px;font-size:1.3rem}.page-index .toc-index ul{padding-left:20px;margin:0}.page-index .toc-index p{font-style:italic;color:#999;padding-top:0;margin-bottom:0;font-size:.95rem;margin-top:10px}.page-index .toc-index p a{color:#999;border-bottom:2px solid #999}.page-index .toc-index p a:hover{border-bottom:2px solid #ffd479}.page-index .appendix{font-style:italic;opacity:.6}.page-index .appendix-bottom{display:none;font-size:.95rem}.page-index .appendix-toc{padding:0 5px;font-size:.9rem}@media (max-width:991px){.page-index .main-cats{flex:1 1 100%;order:2;padding-right:0}.page-index .toc-index-container{flex:1 1 100%;order:1;position:inherit;margin-bottom:1.5rem}.page-index .toc-index-container ul{column-count:3;-webkit-column-count:3;-moz-column-count:3}.page-index .appendix-toc{display:none}.page-index .appendix-bottom{display:block}}@media (max-width:767px){.page-index .toc-index ul{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media (max-width:575px){.page-index .toc-index ul{column-count:1;-webkit-column-count:1;-moz-column-count:1}}.category{width:100%}.category h2,header h1{font-size:1.55rem;margin-top:0}.category h2 img{float:left;margin-right:7px}.category .list-homepage{list-style:none;padding-left:0;margin-bottom:0;column-count:1;-webkit-column-count:1;-moz-column-count:1}@media (min-width:768px){.category .list-homepage{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media (min-width:992px){.category .list-homepage{column-count:3;-webkit-column-count:3;-moz-column-count:3}}.category .list-homepage li{padding-left:25px;margin-bottom:10px;width:100%}.category .list-homepage li a{color:#ddd;border-bottom:2px solid rgba(255,255,255,.14);border-style:dotted}.category .list-homepage li img{margin-bottom:-5px;margin-left:-25px}.category .list-homepage li:hover{cursor:pointer}.category .list-homepage li:hover a{border-color:#ffd479;color:#fff}.category .list-homepage li:hover::before{opacity:1}.page-index header{padding-top:5em;padding-bottom:0}.page-index header .header-logo{height:80px;width:auto}header nav{z-index:10}#nav{z-index:2;position:relative}header{padding:5.5rem 1rem 1rem;width:900px;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header h1{font-size:2.2rem;margin-bottom:0}header p{margin-top:1rem}header .header-logo{width:55px;height:55px;margin-bottom:1rem}header .header-logo img{width:100%;height:100%}header .social{margin-top:.5rem;margin-bottom:1.5rem}header #more-info #note-tag>a,header .social a{margin-right:10px}header .social a:last-child,p.contact a:last-child{margin-right:0}@media (min-width:992px){header .social a{margin-right:20px}}header .social a img{border-radius:50%}header #more-info{padding:1rem}header #more-info #note-tag{padding-bottom:10px;border-bottom:1px solid #444}header #more-info #note-tag>a::before{content:"#"}header #more-info #last-modified{padding-top:10px;font-style:italic}#reading-progress,nav{top:0;left:0;width:100vw}#reading-progress{z-index:3;border-bottom:1px solid #ffd479;position:absolute;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}.intro,.job span{font-size:1.02rem}.intro b,.intro strong{color:#ffd479;font-weight:400}.job span{background:#ffd479;color:#000;padding:3px 20px;border-radius:15px}p.contact{width:100%;text-align:center;margin-bottom:4rem}p.contact a{margin-right:10px;margin-bottom:10px}nav{position:fixed;padding:0 1.5rem;background:#35373c}nav nav #nav .nav-search .nav-search__input{padding-right:1.5rem}@media (max-width:992px){nav{padding:0 1rem}nav nav #nav .nav-search .nav-search__input{padding-right:1rem}}@media (max-width:576px){nav{padding:0 .5em}nav nav #nav .nav-search .nav-search__input{padding-right:.5rem}}nav #nav{display:-ms-flexbox;-ms-flex-align:center;align-items:center}nav #nav a{color:#ccc;margin-right:15px;align-items:center;padding:0 .5rem;font-size:1.1rem;white-space:nowrap}nav #nav a img{margin-right:5px}nav #nav a:hover{color:#fff;cursor:pointer;text-decoration:none}nav #nav .nav-item{text-align:left;margin-right:5px}@media (min-width:421px){nav #nav .nav-item{padding-left:0!important}}@media (max-width:575px){nav #nav .nav-item{width:unset!important}nav #nav .nav-item span{display:none}}@media (min-width:576px){nav #nav .nav-item{margin-right:15px}}nav #nav .nav-github{text-align:right;padding-right:0!important;margin-right:0!important}nav #nav .nav-github:hover img{filter:invert(.4)}nav #nav .nav-search{display:block;background-image:linear-gradient(to right,#3d4251,#3b3f4c,#393d46,#373a41,#35373c);width:100%;position:relative}nav #nav,nav #nav .nav-search form,nav #nav a{display:flex}nav #nav .nav-search .nav-search__input{border:0;background:0 0;color:#ddd;font-size:1.05rem;padding:.65rem .5rem;width:100%}nav #nav .nav-search .nav-search__input:focus{outline:0;border:0}nav #nav .nav-search #nav-search__result-container{position:absolute;max-height:80vh;overflow:auto;width:100%;background:#35373c;border-bottom-right-radius:5px;border-bottom-left-radius:5px;padding:0;filter:drop-shadow(2px 4px 6px #000)}@media (max-width:767px){nav #nav .nav-search #nav-search__result-container{position:fixed;left:0;right:0;border-radius:0}}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul{padding:0;margin:0;list-style:none}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li{display:flex;padding:10px;align-items:center;justify-content:space-between;overflow:hidden}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__icon{width:20px}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content{padding:0 10px;width:100%;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 a{color:#efb232;padding:0;text-align:left;font-weight:400;font-size:16.5px;line-height:1.5;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 a:hover{border-bottom:none;color:#8cc8ff}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content p{text-align:left;margin:0;line-height:1.5;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .enter{width:20px;display:none}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li.selected{background:#282a36}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li.selected .enter{display:block}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul mark{background:0 0;color:inherit;box-shadow:inset 0 -3px 0 0 #fff}nav #nav .nav-search #nav-search__result-container #nav-search__no-result{padding:0 10px}nav #nav .nav-search #nav-search__result-container #nav-search__no-result p{text-align:left}footer{font-size:1rem;background:#35373c;padding:.75rem 1rem;text-align:center;margin-top:3rem}footer a{color:#ccc}footer a:hover{color:#fff}.warning{position:relative;padding:16.5px;margin-bottom:24.75px;border:1px solid transparent;border-radius:.25rem;color:#eee;border-left-width:15px;border-color:#ffd479}.warning :last-child{margin-bottom:0}.hsbox{margin-bottom:24.75px;border:1px solid #969696;padding:1rem;border-radius:3px}.hsbox .hs__title{cursor:pointer}.hsbox .hs__title::before{content:" ";display:inline-block;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid currentColor;vertical-align:middle;margin-right:.7rem;transform:translateY(-2px);transition:transform .2s ease-out}.hsbox .hs__title.show{padding-bottom:15px;border-bottom:.5px solid #666;margin-bottom:1rem}.hsbox .hs__title.show+.hs__content{display:block;opacity:1;padding:5px 0;transition:all .25s 0s cubic-bezier(.4,0,.2,1)}.hsbox .hs__title.show::before{transform:rotate(90deg) translateX(-3px)}.hsbox .hs__content{display:none;transition:all .2s 0s ease}.hsbox .hs__content>:last-child,.page-note .list-item>:last-child{margin-bottom:0}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{display:none}.page-note .p-list>*{margin-bottom:1rem}.page-note .list-item{border:1px solid #424242;border-radius:3px;padding:1rem;margin-bottom:24.75px}.page-note .text-center{text-align:center}.page-note ol,.page-note p,.page-note ul{margin-top:0;margin-bottom:24.75px}.page-note ol li,.page-note ul li,div.toc ol li{margin-bottom:5px}.page-note ol li ol,.page-note ol li ul,.page-note ul li ol,.page-note ul li ul{margin-bottom:5px;margin-top:5px;padding-left:20px}.page-note ol li>:not(span),.page-note ul li>:not(span){margin-bottom:5px}.page-note p.noindent{display:none;padding-left:20px}.page-note p.noindent+ol,.page-note p.noindent+ul{padding-left:20px;margin-top:0}.page-note p.indent{display:none;padding-left:40px}.page-note ol.indent,.page-note p.indent+ol,.page-note p.indent+ul,.page-note ul.indent{padding-left:40px}.page-note ol.noindent,.page-note ul.noindent{padding-left:20px}.page-note hr{border-bottom:1px solid #525252;margin-bottom:24.75px;margin-right:auto;margin-left:0;width:200px}.page-note p.katex-block{overflow-x:auto;overflow-y:hidden}.page-note p.katex-block .katex-display{margin:0!important}#reading-list .item .author{font-style:italic}#reading-list .item .intro{color:#999}code[class*=language-],pre[class*=language-]{color:#eee;font-size:16px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#75a7ca}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}.token.comment{color:#6a9955}.token.punctuation{color:#eee}.token.inserted,.token.number{color:#b5cea8}.token.string{color:#ce9178}.token.operator{color:#eee}.token.keyword{color:#90cdff}.token.function{color:#efefac}.token.important{color:#90cdff}.token.class-name{color:#4ec9b0}.token.console,.token.parameter{color:#9cdcfe}.token.boolean{color:#90cdff}.token.property,code[class*=language-jsx],pre[class*=language-jsx]{color:#9cdcfe}.token.tag{color:#90cdff}.token.tag .token.punctuation{color:gray}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}code,pre{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}h2>code{font-size:21.78px!important}h3>code{font-size:18.9486px!important}:not(pre)>code{border:1px solid #444;background:#6b444245;padding:2px 4px;margin:0 1px;border-radius:3px;font-size:.9rem;color:#fff;word-break:break-word}h2>code,h3>code{color:#ddd;padding-right:6px}a>code{color:#ffd479}a:hover>code{color:#ccc}pre,pre[class*=language-]{margin:0 0 27.225px;overflow:auto}pre>code,pre[class*=language-]>code{display:block;padding:14.5px 16.5px 16.5px;background:#2f3240;border:.5px solid #3b3e54;overflow:auto;border-radius:3px;max-height:450px}div.toc{margin-bottom:24.75px;border:1px solid #3b3e54;border-radius:7px;height:fit-content;background:#2f3240;padding:15px 15px 10px 0}div.toc>ol::before{content:"In this note";display:block;padding-bottom:5px;border-bottom:1px solid #555;margin:0 0 15px;font-size:1.18rem;font-family:"Recoleta",Arial,Helvetica,sans-serif}div.toc ol{padding-left:20px;font-size:14.85px;margin-bottom:0;counter-reset:item;list-style-type:none}div.toc ol>li:first-child{margin-top:0}div.toc ol li code{font-size:.85rem;background:#ececec;padding:0 4px 2px}div.toc ol li ol{padding-left:10px}div.toc ol ol{counter-reset:item;list-style-type:none}div.toc ol li::before{content:counters(item,".") ". ";counter-increment:item}div.toc>ol>li ol>li::before{opacity:.7}div.toc>ol>li::before{color:#8cc8ff}@media (min-width:1300px){div.toc{float:right;margin-right:-210px;border-left:none;width:200px;position:-webkit-sticky;position:sticky;top:60px;max-height:70vh;overflow:auto}div.toc ol{margin-top:0;margin-bottom:0}}@media (min-width:1360px){div.toc{margin-right:-230px;width:220px}}@media (min-width:1373px){div.toc{margin-right:-240px;width:220px}}@media (min-width:1400){div.toc{margin-right:-250px;width:230px}}@media (min-width:1450px){div.toc{margin-right:-280px;width:250px}}@media (min-width:1550px){div.toc{margin-right:-310px;width:280px}}.toc-active>a{color:#fff!important}.toc-active::before{opacity:1!important}.page-note img{height:auto;width:100%}.page-note p>img+br,.page-note p>picture+br{display:none}.page-note p>img+br+em,.page-note p>picture+br+em{display:block;text-align:center;margin-top:10px;font-size:.9rem}</style></head><body><header><nav><div id="nav"><a href="/" class="nav-item no-effect"><img alt="home" src="/img/nav/home.svg" height="18" width="18" class="keep-original"> <span>Thi</span> </a><a href="/about/" class="nav-item no-effect"><img alt="about" src="/img/nav/about.svg" height="15" width="15" class="keep-original"> <span>About</span></a><div id="nav-search" class="nav-search"><form><input aria-label="search notes (press &quot;/&quot; to focus &amp; &quot;ESC&quot; to lose)" class="nav-search__input" id="nav-search__input" onfocusin="inFocus(this)" placeholder="search notes (press &quot;/&quot; to focus &amp; &quot;ESC&quot; to lose)" type="search"></form><div id="nav-search__result-container" style="display: none;"><ul id="nav-search__ul"></ul><div id="nav-search__no-result" style="display: none;"><p>No results found.</p></div></div></div><a href="https://github.com/dinhanhthi" class="nav-item no-effect nav-github" target="_blank"><img alt="github" src="/img/nav/github.svg" height="20" width="20" class="keep-original"></a></div><div id="reading-progress" aria-hidden="true"></div></nav><script src="/js/search.js?hash=1aae822ef9" async="" defer=""></script><div class="header-logo"><img alt="Angular 3 - Observable" src="/img/header/angular.svg" class="keep-original"></div><h1>Angular 3 - Observable</h1><div id="more-info"><div id="note-tag"><a href="/tags/mooc">MOOC</a> <a href="/tags/javascript">JavaScript</a> <a href="/tags/angular">Angular</a></div><div id="last-modified">08-03-2021 / <a href="https://github.com/dinhanhthi/dinhanhthi.com/edit/dev/./posts/angular/2021-03-04-angular-3-observable.md">Edit on Github</a></div></div></header><main><article><div class="container mt-2 normal page-note"><div class="toc"><ol><li><a href="#docs">Docs #</a></li><li><a href="#what's-observable%3F">What's Observable? #</a></li><li><a href="#create-observable">Create observable #</a><ol><li><a href="#.subscribe()">.subscribe() #</a></li><li><a href="#.create()">.create() #</a></li><li><a href="#.error()">.error() #</a></li><li><a href="#.complete()">.complete() #</a></li></ol></li><li><a href="#operators">Operators #</a></li><li><a href="#subjects">Subjects #</a></li></ol></div><p>This is my note for the course "<a href="https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/13914134#overview">Angular - The Complete Guide (2021 Edition)</a>" which is taught by Maximilian Schwarzmüller on Udemy. This is an incredible course for you to start to learn Angular from basic. The official Angular docs is good but it's not for the beginner.</p><p>🍄 <strong>PART 1</strong> — <a href="/angular-1-basics-components-databinding-directives/">Angular 1 - Basics &amp; Components &amp; Databinding &amp; Directives</a><br>🍄 <strong>PART 2</strong> — <a href="/angular-2-service-dependency-injection-routing/">Angular 2 - Services &amp; Dependency Injection &amp; Routing</a><br>🍄 <strong>PART 3</strong> — <a href="/angular-3-observable/">Angular 3 - Observable</a><br>🍄 <strong>PART 4</strong> — <a href="/angular-4-forms/">Angular 4 - Forms</a><br>👉 <a href="https://github.com/dinhanhthi/learn-angular-complete-guide">Github repo</a><br>👉 <strong>Other note</strong> (taken before this course): <a href="https://www.notion.so/Angular-101-fcbd5683f8e941f89c709595792b62d2">Angular 101</a><br>👉 Other note: <a href="https://www.notion.so/RxJS-b4bc7e2d1f7d49b79d4cb701785e355f">RxJS</a>.</p><div class="warning"><p>This note contains only the important things which can be look back later, it cannot replace either <a href="https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/13914134#overview">the course</a> nor <a href="https://angular.io/start">the official document</a>!</p></div><h2 id="docs">Docs <a href="#docs" class="direct-link">#</a></h2><ul><li><a href="https://www.learnrxjs.io/">Learn RxJS</a></li></ul><h2 id="what's-observable%3F">What's Observable? <a href="#what's-observable%3F" class="direct-link">#</a></h2><p>👉 Codes: <a href="https://github1s.com/dinhanhthi/learn-angular-complete-guide/tree/master/14-observable/obs-03-complete-custom-observable/src/app">finish custom observables</a>.</p><ul><li>An observable = a data source.</li><li>Observable patterns → <em>observable</em> —- stream —- <em>observer</em></li><li><em>Observer</em> (in previous codes, you subscribe something to the event from observable) → 3 type of data received (3 hooks): Handle data, Handle error, Handle completion.</li><li>Observables are contracts to which you subscribe to be informed about the changes in data.</li></ul><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/angular/angular-3/Untitled-1920w.webp 1920w, /img/post/angular/angular-3/Untitled-1280w.webp 1280w, /img/post/angular/angular-3/Untitled-640w.webp 640w, /img/post/angular/angular-3/Untitled-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/angular/angular-3/Untitled-1920w.jpg 1920w, /img/post/angular/angular-3/Untitled-1280w.jpg 1280w, /img/post/angular/angular-3/Untitled-640w.jpg 640w, /img/post/angular/angular-3/Untitled-320w.jpg 320w" type="image/jpeg"><img alt="Angular_3_-_Observable_f0445b12735d4542956fd4f2eefca8e4/Untitled.png" src="/img/post/angular/angular-3/Untitled.png" height="561" width="1030" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 1030px) min(calc(var(--main-width) * 0.5446601941747573), 561px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1030 561'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsSAAALEgHS3X78AAAA1ElEQVQI10WPsWrCUBSG83adSqGv4FwoHYqLQVycikMp0tZRUJQuOvUBWujmJkma5CZXQ+QSFLVYrcln7nXogXPOB/93hmMVRYGuTGUEXoAUkvA7xC95mS1Nph3LQNnDxzee7tu81Dq82h3D/dbgX9Rju9qQxgnSjxGuQDgBkReRRnP+djsjW/nxiHRDZo5H4vlIR5Ssd4icuvwodRbXK5cDivWkx2Js8/XQ4LNZI/7ooabvpfKLfsM67LfmYtzuUr2oUL++w766pXp5w+i5b7I8LzgBIqrRnx/CGXIAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&quot;)"></picture></p><h2 id="create-observable">Create observable <a href="#create-observable" class="direct-link">#</a></h2><p>There are several ways to create an observable from rxjs package.</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// home.component.ts</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> interval<span class="token punctuation">,</span> Subscription <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span><span class="token punctuation">,</span> OnDestroy <span class="token punctuation">{</span><br>	<span class="token keyword">private</span> firstObsSub<span class="token operator">:</span> Subscription<span class="token punctuation">;</span><br><br>	<span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token keyword">this</span><span class="token punctuation">.</span>firstObsSub <span class="token operator">=</span> <span class="token function">interval</span><span class="token punctuation">(</span> <span class="token number">1000</span> <span class="token punctuation">)</span> <span class="token comment">// every seconds, a new event will be emitted</span><br>			<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span> <span class="token parameter">count</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// log to the console</span><br>			<span class="token punctuation">}</span><span class="token punctuation">)</span><br>	<span class="token punctuation">}</span><br><br>	<span class="token comment">// we have to .unsubscribe() -&gt; if not, we get more and more observables</span><br>	<span class="token comment">//   whenever we get back to home</span><br>	<span class="token function">ngOnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><br><span class="token comment">//|						// ^return nothing</span><br><span class="token comment">//^whenever we leave the component</span><br>		<span class="token keyword">this</span><span class="token punctuation">.</span>firstObsSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prevent memory leak</span><br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>All observables provided by Angular → no need to import from "rxjs" + no need to unsubscribe().</p><h3 id=".subscribe()"><code>.subscribe()</code> <a href="#.subscribe()" class="direct-link">#</a></h3><pre class="language-jsx"><code class="language-jsx">customIntervalObs<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><br>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>function_for_next</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">, // performed when get an emit<br>	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>function_for_error</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">, // performed when there is error<br>	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>function_for_complete</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // perform when finish getting emit<br>);</span></code></pre><p>You rarely build your own observable → use the ones given by angular or somewhere else. Below are just for more understanding how to do so if you want!</p><h3 id=".create()"><code>.create()</code> <a href="#.create()" class="direct-link">#</a></h3><p>Create manually <code>interval()</code>,</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token operator">...</span> <span class="token punctuation">{</span><br>	<span class="token keyword">private</span> customObsSub<span class="token operator">:</span> Subscription<span class="token punctuation">;</span><br><br>	<span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token keyword">const</span> customIntervalObs <span class="token operator">=</span> Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>			<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>			<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>				observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><br>						<span class="token comment">//  ^method to emit a new value, there are also: .error(), .complete()</span><br>				count<span class="token operator">++</span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>		customObsSub <span class="token operator">=</span> customIntervalObs<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br>		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token punctuation">}</span><br><br>	<span class="token function">ngOnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><br>		<span class="token keyword">this</span><span class="token punctuation">.</span>customObsSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id=".error()"><code>.error()</code> <a href="#.error()" class="direct-link">#</a></h3><p>If we send HTTP request → we usually get .</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// using the same structure of code as previous code box</span><br><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		observer<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Count is greater than 3!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token punctuation">}</span> <span class="token comment">// stop subscription -&gt; observer ends at "4"</span><br>	count<span class="token operator">++</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>customObsSub <span class="token operator">=</span> customIntervalObs<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// or you could send error to backend</span><br>	<span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Count is greater than 3!"</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id=".complete()"><code>.complete()</code> <a href="#.complete()" class="direct-link">#</a></h3><p>There are some observables can be completed → what we will do when it happens?</p><p>Cancled due to an error IS DIFFERENT than it completes! → complete function in <code>.subscribe()</code> is not executed when there is an error!</p><pre class="language-jsx"><code class="language-jsx"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		observer<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// complete observable before count=3</span><br>	<span class="token punctuation">}</span><br>	<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		observer<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Count is greater than 3!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token punctuation">}</span><br>	count<span class="token operator">++</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>customObsSub <span class="token operator">=</span> customIntervalObs<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// or you could send error to backend</span><br>	<span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Count is greater than 3!"</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Completed!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// you don't need to unsubscribe if your observable</span><br>														 <span class="token comment">//   did complete BUT there nothing wrong if you</span><br>														 <span class="token comment">//   keep using .unsubcribe()</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="operators">Operators <a href="#operators" class="direct-link">#</a></h2><p>👉 <a href="https://www.learnrxjs.io/learn-rxjs/operators/">Operators - Learn RxJS</a><br>👉 <a href="https://github1s.com/dinhanhthi/learn-angular-complete-guide/blob/master/14-observable/obs-04-operators/src/app/home/home.component.ts">Codes for this section</a>.</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> map <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span></code></pre><p>Operators are the magic features of the RxJS library turn observables → awesome construct!</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/angular/angular-3/Untitled_1-1920w.webp 1920w, /img/post/angular/angular-3/Untitled_1-1280w.webp 1280w, /img/post/angular/angular-3/Untitled_1-640w.webp 640w, /img/post/angular/angular-3/Untitled_1-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/angular/angular-3/Untitled_1-1920w.jpg 1920w, /img/post/angular/angular-3/Untitled_1-1280w.jpg 1280w, /img/post/angular/angular-3/Untitled_1-640w.jpg 640w, /img/post/angular/angular-3/Untitled_1-320w.jpg 320w" type="image/jpeg"><img alt="Angular_3_-_Observable_f0445b12735d4542956fd4f2eefca8e4/Untitled_1.png" src="/img/post/angular/angular-3/Untitled_1.png" height="540" width="855" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 855px) min(calc(var(--main-width) * 0.631578947368421), 540px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 855 540'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxElEQVQI112PMWsCQRCF97cL6RWSUgyJ1yiIiHiHpxcLFSsbwUMLhRSadU00hpi93O1+WUWC+IavmPemeCO4kZQSpRTWzbXEYdZn3SshBx5q3CL5tSQ64WsrWQV5PhaTsyeWkxi/WKXr1QnLDYb+iEFrSKcSEZVrBF7IdDxHGLMj1V3SH4d+4fAeOHy3R2S6R3psY7ItwhpNlr45FMfXDp9xhX1c5XvRdN7mnFmTuEPX2V56h16Dx1yBp7t7ag/P/4+c4j8OLNjravSSCAAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&quot;)"></picture></p><p>Example: we wanna add "Round" before the number emiited (Round 1, Round 2,....) → an old option is to add "Round" in the <code>.subscribe()</code> function. → We can do that before theh subscription using Operators! ← <code>.pipe()</code> comes in!</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">this</span><span class="token punctuation">.</span>firstObsSubscription <span class="token operator">=</span> customIntervalObservable<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> data <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'Round: '</span> <span class="token operator">+</span> <span class="token punctuation">(</span>data <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>We need a transformation of the received data before you subscribe → using operators.</p><p>With <code>.pipe()</code>, we can apply 1 or more operators inside it!</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// import operators from rxjs/operators first!</span><br><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>operator</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">, </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>operator</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">, ...)</span></code></pre><h2 id="subjects">Subjects <a href="#subjects" class="direct-link">#</a></h2><p>👉 <a href="https://github1s.com/dinhanhthi/learn-angular-complete-guide/blob/master/14-observable/obs-05-finished/src/app/user.service.ts">Codes for this section</a>.</p><p>Instead of using <code>EventEmitter</code> (from <code>@angular/core</code>), to emit and subscribe event between components, we can use a subject!</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// user.service.ts</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> Subject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span><br><br>@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>providedIn<span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span><br>  activatedEmitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolean</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">();<br>}<br><br>// compare with using EventEmitter<br>@Injectable()<br>export ... </span><span class="token punctuation">{</span><br>	activatedEmitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolean</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">();<br>}</span></code></pre><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// user.component.ts</span><br><span class="token function">onActivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>activatedEmitter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// compare with EventEmitter</span><br><span class="token function">onActivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>activatedEmitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// app.component.ts</span><br><span class="token comment">// we use the same for both EventEmitter and Subject</span><br><span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>activateEmitter<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Unlike normal observable (you can created) → <code>.next()</code> is used INSIDE the observable (when you created it) ← subject is different: we can call <code>.next()</code> outside the observable!</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/angular/angular-3/Untitled_2-1920w.webp 1920w, /img/post/angular/angular-3/Untitled_2-1280w.webp 1280w, /img/post/angular/angular-3/Untitled_2-640w.webp 640w, /img/post/angular/angular-3/Untitled_2-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/angular/angular-3/Untitled_2-1920w.jpg 1920w, /img/post/angular/angular-3/Untitled_2-1280w.jpg 1280w, /img/post/angular/angular-3/Untitled_2-640w.jpg 640w, /img/post/angular/angular-3/Untitled_2-320w.jpg 320w" type="image/jpeg"><img alt="Angular_3_-_Observable_f0445b12735d4542956fd4f2eefca8e4/Untitled_2.png" src="/img/post/angular/angular-3/Untitled_2.png" height="570" width="1093" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 1093px) min(calc(var(--main-width) * 0.5215004574565416), 570px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1093 570'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAGCAYAAAAVMmT4AAAACXBIWXMAAAsSAAALEgHS3X78AAAAw0lEQVQY03XNPU/CUACF4fvHjQk2hsbFBEJNURMWHPwDEFnaMJjQAoOYqIOfWC2Be1sDUi7tS0MHBvSM5znJEfyRIJAsl3qvF83TJnbJpnHSoHZg8fr4DOkti58XrirXnB1aXBxfUjfOEXe9e3y3T9/18BwfNVWk609WScTIf8g7D9/pMegOEbuThP9TmIjdKrJtIG9MVKvEKnzaQqYT4q6FbB3lVibqmAg9V0STMdOvN35VSJZqsmKOXuQWfjD7ft/aBuIL7qbQt8bMAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&quot;)"></picture></p><p>There are also other subclasses for Subjects: <code>BehaviorSubject</code>, <code>ReplaySubject</code>,...</p><p><strong>GOOD PRACTICE</strong>:</p><ul><li>Don't use <code>EventEmitter</code>, use <code>Subject</code>!!!! ← don't forget to unsubcribe to Subect when you don't need them. ← by storing the subscription + then unsubscribe().<ul><li>Only use Subject to communicate across components through services/mechanisms where you in the end subscribe to somewhere!<ul><li>Not subscribe to an event which probably is an output if you do plan to subscribe manually!</li></ul></li></ul></li><li>ONLY USE <code>EventEmitter</code> on the <code>@Output</code> property!! ← EventEmitter gets cleaned auto (no need unsubscribe)</li></ul></div><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Angular 3 - Observable","image":["https://dinhanhthi.com/img/post/angular/angular-3/Untitled.png","https://dinhanhthi.com/img/post/angular/angular-3/Untitled_1.png","https://dinhanhthi.com/img/post/angular/angular-3/Untitled_2.png"],"author":"Anh-Thi DINH","genre":"Insert a schema.org genre","url":"https://dinhanhthi.com/angular-3-observable/","mainEntityOfPage":"https://dinhanhthi.com/angular-3-observable/","datePublished":"03-03-2021","dateModified":"08-03-2021","description":"This is my note for the course &amp;quot;Angular - The Complete Guide (2021 Edition)&amp;quot; which is taught by Maximilian Schwarzmüller on Udemy...."}</script></article></main><footer><a href="/" target="_blank">Thi &nbsp;©&nbsp; 2021 </a>&nbsp;•&nbsp; <a href="/about-the-notes/">About the notes </a>&nbsp;•&nbsp; <a href="/about/">About me </a>&nbsp;•&nbsp; <a href="https://photos.app.goo.gl/9OVEkdTjmtRPg7vC3" target="_blank">My sketches </a>&nbsp;•&nbsp; <a href="https://goo.gl/photos/yQXdQws1LLS16x5v5" target="_blank">I cook </a>&nbsp;•&nbsp; <a href="/for-me-only/">For me only </a>&nbsp;•&nbsp; <a href="/donate/">Support Thi</a></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"></script><script src="https://www.googletagmanager.com/gtag/js?id=G-K3YRSB918B" async=""></script><script>window.dataLayer = window.dataLayer || [];
		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());
		gtag('config', 'G-K3YRSB918B');</script><script src="/js/min.js?hash=2e73ea4921" async="" defer=""></script></body></html>