<!DOCTYPE html><html domain=".com" lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="default-src 'self';object-src 'none';script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com/ https://gist.github.com/ https://www.googletagmanager.com/ https://www.google-analytics.com;connect-src 'self' https://www.google-analytics.com https://api.github.com;style-src 'self' https://fonts.googleapis.com/ https://use.fontawesome.com/ 'unsafe-inline' https://github.githubassets.com/ https://cdn.jsdelivr.net;img-src 'self' data:;font-src 'self' https://fonts.gstatic.com/ https://use.fontawesome.com/ https://cdn.jsdelivr.net" http-equiv="Content-Security-Policy"><link href="/favicon.svg" rel="icon" type="image/svg+xml"><meta content="#f9c412" name="theme-color"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name="robots"><title>Jekyll + Liquid</title><meta content="Jekyll + Liquid" prefix="og: http://ogp.me/ns#" property="og:title"><meta content="This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly..." name="description"><meta content="This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly..." prefix="og: http://ogp.me/ns#" property="og:description"><meta content="summary_large_image" name="twitter:card"><meta content="@dinhanhthi" name="twitter:site"><meta content="@dinhanhthi" name="twitter:creator"><meta content="https://dinhanhthi.com/img/remote/2hC4A2.png" prefix="og: http://ogp.me/ns#" property="og:image"><meta content="article" prefix="og: http://ogp.me/ns#" property="og:type"><link href="https://dinhanhthi.com/jekyll-tips/" rel="canonical"><meta content="https://dinhanhthi.com/jekyll-tips/" prefix="og: http://ogp.me/ns#" property="og:url"><meta content="no-referrer-when-downgrade" name="referrer"><link href="/feed/feed.xml" rel="alternate" type="application/atom+xml" title="ðŸ”¥ Anh-Thi DINH"><link href="/" rel="preconnect" crossorigin=""><link href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css" rel="stylesheet"><script csp-hash="sha256-1krv3Gb414NWjc9OVes7p1DsVGXMgyXL7klj8V8OQJE=">if (/Mac OS X/.test(navigator.userAgent))
			document
				.documentElement
				.classList
				.add('apple')</script><style>@charset "UTF-8";@font-face{font-display:swap;font-family:"Poppins";font-style:normal;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-regular.eot);src:local("Poppins Regular"),local("Poppins-Regular"),url(/fonts/poppins/poppins-v15-latin-regular.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-regular.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-regular.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-regular.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-regular.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Poppins";font-style:italic;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-italic.eot);src:local("Poppins Italic"),local("Poppins-Italic"),url(/fonts/poppins/poppins-v15-latin-italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Poppins';font-style:normal;font-weight:600;src:url(/fonts/poppins/poppins-v15-latin-600.eot);src:local("Poppins SemiBold"),local("Poppins-SemiBold"),url(/fonts/poppins/poppins-v15-latin-600.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-600.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-600.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-600.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-600.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Poppins';font-style:italic;font-weight:600;src:url(/fonts/poppins/poppins-v15-latin-600italic.eot);src:local("Poppins SemiBold Italic"),local("Poppins-SemiBoldItalic"),url(/fonts/poppins/poppins-v15-latin-600italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-600italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-600italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-600italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-600italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Recoleta';src:url(/fonts/recoleta/Recoleta-Bold.woff2) format("woff2"),url(/fonts/recoleta/Recoleta-Bold.woff) format("woff"),url(/fonts/poppins/Recoleta-Bold.ttf) format("truetype");font-weight:700;font-style:bold}*{border:0;box-sizing:border-box}:root{font-size:16.5px}main img{content-visibility:auto}::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-thumb{background:#3e466b;border-radius:6px}::-webkit-scrollbar-thumb:hover{background:#aaa;cursor:pointer}::-webkit-scrollbar-track{background:#363948}::-webkit-scrollbar-corner{background:#282a36}body,html{font-family:"Poppins",Arial,Helvetica,sans-serif;font-size:16.5px}html{-webkit-text-size-adjust:100%}@supports (font-variation-settings:normal){html{font-family:"Poppins" var alt,Arial,Helvetica,sans-serif}}body{background:#282a36;color:#eee;margin:0;counter-reset:h2counter}strong{font-weight:600;color:#8cc8ff}small{font-size:80%}sup{top:-.5em}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}mark{color:inherit;padding:0;background-color:transparent;box-shadow:inset 0 -4px 0 0 #ffd479}a,a:hover{text-decoration:none}a:hover{border-bottom:2px solid #ffd479}a.no-effect:hover{border-bottom:none}.page-note h3:hover a:hover,.page-note>h2:hover a:hover,a,a strong{color:#ffd479}.intro a,a strong:hover,a:hover{color:#fff}img{max-width:100%}main{margin:0 auto}.page-note h3,.page-note>h2,h1,h2,h3{font-family:"Recoleta",Arial,Helvetica,sans-serif}h1{font-size:29.7px}h2{font-size:24.75px}h3{font-size:21.5325px}.page-note h3,.page-note>h2{color:#eee}.page-note h3:hover .direct-link,.page-note>h2:hover .direct-link{display:inline-block}.page-note>h2{font-size:24.75px;margin:37.125px 0 19.8px}.page-note p+ol,.page-note p+ul,.page-note>h2+h3{margin-top:-.5rem}.page-note>h3{font-size:21.5325px;margin-bottom:19.8px}.page-note .direct-link{display:none;color:#777;border-bottom:none;margin-left:3px}.page-note pre+h2,.page-note pre+h3,.page-note>h3{margin-top:37.125px}.page-note h1{counter-reset:h2counter}.page-note h2{counter-reset:h3counter}.page-note h3{counter-reset:h4counter}.page-note h3:before{opacity:.5;content:counter(h2counter) "." counter(h3counter) ".Â Â ";counter-increment:h3counter}.page-note h2:before{content:counter(h2counter) ".Â Â ";counter-increment:h2counter;color:#8cc8ff}.container,header{width:100%;margin:0 auto}.normal{padding:0 16.5px;width:100%}@media (min-width:916.5px){.normal{width:900px}}.mt-2{margin-top:2rem}.page-index .container{padding:2rem 1rem 0}.page-index .main-cats{flex:0 1 calc(100% - 280px);padding-right:1rem}.page-index .main-cats>.category-wrapper{padding-bottom:1.5rem}.page-index .main-cats>.category-wrapper>.category{border:1px solid #3b3e54;border-radius:7px;height:fit-content;background:#2f3240;padding:2rem 1.5rem 1.5rem}.page-index .toc-index{border:1px solid #404040;border-radius:7px;height:fit-content;background:#35373c;flex:0 1 280px;position:sticky;top:60px;padding:1rem 1.1rem}.page-index .toc-index h3{padding-bottom:5px;border-bottom:1px solid #555;margin:0 0 10px;font-size:1.3rem}.page-index .toc-index ul{padding-left:20px;margin:0}.page-index .toc-index p{font-style:italic;color:#999;padding-top:0;margin-bottom:0;font-size:.95rem;margin-top:10px}.page-index .toc-index p a{color:#999;border-bottom:2px solid #999}.page-index .toc-index p a:hover{border-bottom:2px solid #ffd479}@media (max-width:991px){.page-index .main-cats{flex:1 1 100%;order:2;padding-right:0}.page-index .toc-index{flex:1 1 100%;order:1;position:inherit;margin-bottom:1.5rem}.page-index .toc-index ul{column-count:3;-webkit-column-count:3;-moz-column-count:3}}@media (max-width:767px){.page-index .toc-index ul{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media (max-width:575px){.page-index .toc-index ul{column-count:1;-webkit-column-count:1;-moz-column-count:1}}.category{width:100%}.category h2,header h1{font-size:1.55rem;margin-top:0}.category h2 img{float:left;margin-right:7px}.category .list-homepage{list-style:none;padding-left:0;margin-bottom:0;column-count:1;-webkit-column-count:1;-moz-column-count:1}@media (min-width:768px){.category .list-homepage{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media (min-width:992px){.category .list-homepage{column-count:3;-webkit-column-count:3;-moz-column-count:3}}.category .list-homepage li{padding-left:25px;margin-bottom:10px;width:100%}.category .list-homepage li a{color:#ddd;border-bottom:2px solid rgba(255,255,255,.14);border-style:dotted}.category .list-homepage li img{width:20px;height:auto;margin-bottom:-5px;margin-left:-25px;opacity:.9}.category .list-homepage li:hover{cursor:pointer}.category .list-homepage li:hover a{border-color:#ffd479;color:#fff}.category .list-homepage li:hover::before{opacity:1}.page-index header{padding-top:5em;padding-bottom:0}.page-index header .header-logo{height:80px;width:auto}header nav{z-index:10}#nav{z-index:2;position:relative}header{padding:5.5rem 1rem 1rem;width:900px;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header h1{font-size:2.2rem;margin-bottom:0}header p{margin-top:1rem}header .header-logo{width:55px;height:55px;margin-bottom:1rem}header .header-logo img{width:100%;height:100%}header .social{margin-top:.5rem;margin-bottom:1.5rem}header #more-info #note-tag>a,header .social a{margin-right:10px}header .social a:last-child,p.contact a:last-child{margin-right:0}@media (min-width:992px){header .social a{margin-right:20px}}header .social a img{border-radius:50%}header #more-info{padding:1rem}header #more-info #note-tag{padding-bottom:10px;border-bottom:1px solid #444}header #more-info #note-tag>a::before{content:"#"}header #more-info #last-modified{padding-top:10px;font-style:italic}#reading-progress,nav{top:0;left:0;width:100vw}#reading-progress{z-index:3;border-bottom:1px solid #ffd479;position:absolute;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}.intro,.job span{font-size:1.02rem}.intro b,.intro strong{color:#ffd479;font-weight:400}.job span{background:#ffd479;color:#000;padding:3px 20px;border-radius:15px}p.contact{width:100%;text-align:center;margin-bottom:4rem}p.contact a{margin-right:10px;margin-bottom:10px}nav{position:fixed;padding:0 1.5rem;background:#35373c}nav nav #nav .nav-search .nav-search__input{padding-right:1.5rem}@media (max-width:992px){nav{padding:0 1rem}nav nav #nav .nav-search .nav-search__input{padding-right:1rem}}@media (max-width:576px){nav{padding:0 .5em}nav nav #nav .nav-search .nav-search__input{padding-right:.5rem}}nav #nav{display:-ms-flexbox;-ms-flex-align:center;align-items:center}nav #nav a{color:#ccc;margin-right:15px;align-items:center;padding:0 .5rem;font-size:1.1rem;white-space:nowrap}.badge img,nav #nav a img{margin-right:5px}nav #nav a:hover{color:#fff;cursor:pointer;text-decoration:none}nav #nav .nav-item{text-align:left;margin-right:5px}@media (min-width:421px){nav #nav .nav-item{padding-left:0!important}}@media (max-width:575px){nav #nav .nav-item{width:unset!important}nav #nav .nav-item span{display:none}}@media (min-width:576px){nav #nav .nav-item{margin-right:15px}}nav #nav .nav-github{text-align:right;padding-right:0!important;margin-right:0!important}nav #nav .nav-github:hover img{filter:invert(.4)}nav #nav .nav-search{display:block;background-image:linear-gradient(to right,#3d4251,#3b3f4c,#393d46,#373a41,#35373c);width:100%;position:relative}nav #nav,nav #nav .nav-search form,nav #nav a{display:flex}nav #nav .nav-search .nav-search__input{border:0;background:0 0;color:#ddd;font-size:1.05rem;padding:.65rem .5rem;width:100%}nav #nav .nav-search .nav-search__input:focus{outline:0;border:0}nav #nav .nav-search #nav-search__result-container{position:absolute;max-height:80vh;overflow:auto;width:100%;background:#35373c;border-bottom-right-radius:5px;border-bottom-left-radius:5px;padding:0;filter:drop-shadow(2px 4px 6px #000)}@media (max-width:767px){nav #nav .nav-search #nav-search__result-container{position:fixed;left:0;right:0;border-radius:0}}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul{padding:0;margin:0;list-style:none}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li{display:flex;padding:10px;align-items:center;justify-content:space-between;overflow:hidden}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__icon{width:20px}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content{padding:0 10px;width:100%;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 a{color:#efb232;padding:0;text-align:left;font-weight:400;font-size:16.5px;line-height:1.5;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 a:hover{border-bottom:none;color:#8cc8ff}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content p{text-align:left;margin:0;line-height:1.5;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .enter{width:20px;display:none}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li.selected{background:#282a36}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li.selected .enter{display:block}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul mark{background:0 0;color:inherit;box-shadow:inset 0 -3px 0 0 #fff}nav #nav .nav-search #nav-search__result-container #nav-search__no-result{padding:0 10px}nav #nav .nav-search #nav-search__result-container #nav-search__no-result p{text-align:left}footer{font-size:1rem;background:#35373c;padding:.75rem 1rem;margin-top:3rem}footer a{color:#ccc}footer a:hover{color:#fff}.badge,.button{text-transform:uppercase}.badge,footer{text-align:center}.badge{display:inline-flex;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;padding:3px 5px;font-size:13px;letter-spacing:1px;margin-bottom:0!important}.badge.badge-green{background:#00c3306b;color:#fff}.button{padding:12px 20px;font-size:.85rem;font-weight:500;transition:all .5s;letter-spacing:2px;color:#fff;box-shadow:none;outline:0!important;min-width:140px;position:relative;overflow:hidden;border-radius:40px;display:inline-table}.danger,.info,.success,.warning{position:relative;padding:16.5px;margin-bottom:24.75px;border:1px solid transparent;border-radius:.25rem;color:#eee;border-left-width:15px}.danger :last-child,.info :last-child,.success :last-child,.warning :last-child{margin-bottom:0}.info{border-color:#8cc8ff}.success{border-color:#86f7a2}.danger{border-color:#f55}.warning{border-color:#ffd479}@media (min-width:768px){.col-2-equal{display:flex;align-items:stretch;flex-wrap:wrap}.col-2-equal>*{flex:0 0 50%;max-width:50%;overflow:auto}.col-2-equal>:nth-child(even){padding-left:5px}.col-2-equal>:nth-child(odd){padding-right:5px}.col-2-equal>*>code{height:100%}.col-2-equal+h2,.col-2-equal+h3{margin-top:12.375px}}.hsbox{margin-bottom:24.75px;border:1px solid #969696;padding:1rem;border-radius:3px}.hsbox .hs__title{cursor:pointer}.hsbox .hs__title::before{content:" ";display:inline-block;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid currentColor;vertical-align:middle;margin-right:.7rem;transform:translateY(-2px);transition:transform .2s ease-out}.hsbox .hs__title.show{padding-bottom:15px;border-bottom:.5px solid #666;margin-bottom:1rem}.hsbox .hs__title.show+.hs__content{display:block;opacity:1;padding:5px 0;transition:all .25s 0s cubic-bezier(.4,0,.2,1)}.hsbox .hs__title.show::before{transform:rotate(90deg) translateX(-3px)}.hsbox .hs__content{display:none;transition:all .2s 0s ease}.hsbox .hs__content>:last-child,.page-note .list-item>:last-child{margin-bottom:0}@media (min-width:768px){.two-columns-list{column-count:2;-webkit-column-count:2;-moz-column-count:2}.two-columns-list>li{padding-right:10px}}input[type=text]::-ms-clear{display:none;width:0;height:0}input[type=text]::-ms-reveal{display:none;width:0;height:0}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{display:none}.page-note .p-list>*{margin-bottom:1rem}.page-note .list-item{border:1px solid #424242;border-radius:3px;padding:1rem;margin-bottom:24.75px}.page-note .text-center{text-align:center}.page-note ol,.page-note p,.page-note ul{margin-top:0;margin-bottom:24.75px}.page-note ol li,.page-note ul li,div.toc ol li{margin-bottom:5px}.page-note ol li ol,.page-note ol li ul,.page-note ul li ol,.page-note ul li ul{margin-bottom:5px;margin-top:5px;padding-left:20px}.page-note ol li>:not(span),.page-note ul li>:not(span){margin-bottom:5px}.page-note p.noindent{display:none;padding-left:20px}.page-note p.noindent+ol,.page-note p.noindent+ul{padding-left:20px;margin-top:0}.page-note p.indent{display:none;padding-left:40px}.page-note ol.indent,.page-note p.indent+ol,.page-note p.indent+ul,.page-note ul.indent{padding-left:40px}.page-note ol.noindent,.page-note ul.noindent{padding-left:20px}.page-note hr{border-bottom:1px solid #525252;margin-bottom:24.75px;margin-right:auto;margin-left:0;width:200px}.page-note p.katex-block{overflow-x:auto;overflow-y:hidden}.page-note p.katex-block .katex-display{margin:0!important}#reading-list .item .author{font-style:italic}#reading-list .item .intro{color:#999}code[class*=language-],pre[class*=language-]{color:#eee;font-size:16px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#75a7ca}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}.token.comment{color:#6a9955}.language-html .language-css .token.punctuation,.language-html .language-javascript .token.punctuation,.token.punctuation{color:#eee}.token.inserted,.token.number{color:#b5cea8}.token.builtin,.token.string{color:#ce9178}.language-css .token.string.url{text-decoration:underline}.token.operator{color:#eee}.token.atrule{color:#ce9178}.token.atrule .token.url{color:#9cdcfe}.token.atrule .token.url .token.function{color:#efefac}.token.atrule .token.url .token.punctuation,.token.attr-value .token.punctuation.attr-equals{color:#eee}.token.keyword{color:#90cdff}.token.keyword.module{color:#c586c0}.token.function{color:#efefac}.token.important{color:#90cdff}.token.constant{color:#9cdcfe}.token.class-name{color:#4ec9b0}.token.interpolation,.token.parameter{color:#9cdcfe}.token.boolean{color:#90cdff}.token.property,.token.variable{color:#9cdcfe}.token.tag{color:#90cdff}.language-html .token.punctuation,.token.tag .token.punctuation{color:gray}.token.attr-name,code[class*=language-javascript],pre[class*=language-javascript]{color:#9cdcfe}.token.attr-value,.token.attr-value .token.punctuation,code[class*=language-css],pre[class*=language-css]{color:#ce9178}code[class*=language-html],pre[class*=language-html]{color:#eee}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}code,pre{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}h2>code{font-size:21.78px!important}h3>code{font-size:18.9486px!important}:not(pre)>code{border:1px solid #444;background:#6b444245;padding:2px 4px;margin:0 1px;border-radius:3px;font-size:.9rem;color:#fff;word-break:break-word}h2>code,h3>code{color:#ddd;padding-right:6px}a>code{color:#ffd479}a:hover>code{color:#ccc}pre,pre[class*=language-]{margin:0 0 27.225px;overflow:auto}pre>code,pre[class*=language-]>code{display:block;padding:14.5px 16.5px 16.5px;background:#2f3240;border:.5px solid #3b3e54;overflow:auto;border-radius:3px;max-height:450px}div.toc{margin-bottom:24.75px;border:1px solid #3b3e54;border-radius:7px;height:fit-content;background:#2f3240;padding:15px 15px 10px 0}div.toc>ol::before{content:"In this note";display:block;padding-bottom:5px;border-bottom:1px solid #555;margin:0 0 15px;font-size:1.18rem;font-family:"Recoleta",Arial,Helvetica,sans-serif}div.toc ol{padding-left:20px;font-size:14.85px;margin-bottom:0;counter-reset:item;list-style-type:none}div.toc ol>li:first-child{margin-top:0}div.toc ol li code{font-size:.85rem;background:#ececec;padding:0 4px 2px}div.toc ol li ol{padding-left:10px}div.toc ol ol{counter-reset:item;list-style-type:none}div.toc ol li::before{content:counters(item,".") ". ";counter-increment:item}div.toc>ol>li ol>li::before{opacity:.7}div.toc>ol>li::before{color:#8cc8ff}@media (min-width:1300px){div.toc{float:right;margin-right:-210px;border-left:none;width:200px;position:-webkit-sticky;position:sticky;top:60px;max-height:70vh;overflow:auto}div.toc ol{margin-top:0;margin-bottom:0}}@media (min-width:1360px){div.toc{margin-right:-230px;width:220px}}@media (min-width:1373px){div.toc{margin-right:-240px;width:220px}}@media (min-width:1400){div.toc{margin-right:-250px;width:230px}}@media (min-width:1450px){div.toc{margin-right:-280px;width:250px}}@media (min-width:1550px){div.toc{margin-right:-310px;width:280px}}.toc-active>a{color:#fff!important}.toc-active::before{opacity:1!important}.page-note img{height:auto;width:100%}.page-note p>img+br{display:none}</style></head><body><header><nav><div id="nav"><a href="/" class="nav-item no-effect"><img alt="home" src="/img/nav/home.svg" height="18" width="18"> <span>Thi</span> </a><a href="/about/" class="nav-item no-effect"><img alt="about" src="/img/nav/about.svg" height="15" width="15"> <span>About</span></a><div class="nav-search" id="nav-search"><form><input aria-label="search notes (press &quot;/&quot; to focus &amp; &quot;ESC&quot; to lose)" class="nav-search__input" id="nav-search__input" onfocusin="inFocus(this)" placeholder="search notes (press &quot;/&quot; to focus &amp; &quot;ESC&quot; to lose)" type="search"></form><div id="nav-search__result-container" style="display: none;"><ul id="nav-search__ul"></ul><div id="nav-search__no-result" style="display: none;"><p>No results found.</p></div></div></div><a href="https://github.com/dinhanhthi" class="nav-item no-effect nav-github" target="_blank"><img alt="github" src="/img/nav/github.svg" height="20" width="20"></a></div><div id="reading-progress" aria-hidden="true"></div></nav><script src="/js/search.js?hash=1aae822ef9" async="" defer=""></script><div class="header-logo"><img alt="Jekyll + Liquid" src="/img/header/jekyll.png" class="keep-original"></div><h1>Jekyll + Liquid</h1><div id="more-info"><div id="note-tag"><a href="/tags/web-dev">Web Dev</a> <a href="/tags/jekyll">Jekyll</a> <a href="/tags/static-site-generators">Static Site Generators</a></div><div id="last-modified">15-12-2020 / <a href="https://github.com/dinhanhthi/dinhanhthi.com/edit/dev/./posts/web-dev/2019-09-03-jekyll-tips.md">Edit on Github</a></div></div></header><main><article><div class="container mt-2 normal page-note"><div class="toc"><ol><li><a href="#useful-links">Useful links #</a></li><li><a href="#using-docker-to-run%2Fdeploy-jekyll">Using docker to run/deploy jekyll #</a></li><li><a href="#install-and-run-jekyll-on-fresh-machine">Install and run Jekyll on fresh machine #</a><ol><li><a href="#ubuntu">Ubuntu #</a></li><li><a href="#windows">Windows #</a></li></ol></li><li><a href="#make-jekyll-build-faster">Make jekyll build faster #</a><ol><li><a href="#disable-jekyll-feed">Disable jekyll-feed #</a></li></ol></li><li><a href="#sitemap">Sitemap #</a></li><li><a href="#loop-through-posts">Loop through posts #</a><ol><li><a href="#edit-tags-for-all-posts">Edit tags for all posts #</a></li></ol></li><li><a href="#using-markdown-syntax-inside-html-tags">Using markdown syntax inside html tags #</a></li><li><a href="#check-version">Check version #</a></li><li><a href="#link-to-posts">Link to posts #</a></li><li><a href="#custom-domain-%26-repository-with-jekyll-sites">Custom domain &amp; repository with Jekyll sites #</a><ol><li><a href="#you-don't-have-a-custom-domain">You don't have a custom domain #</a></li><li><a href="#you-have-a-custom-domain">You have a custom domain #</a></li></ol></li><li><a href="#using-custom-plugins%3F">Using custom plugins? #</a></li><li><a href="#using-_data-with-include">Using _data with include #</a></li><li><a href="#create-a-custom-tags%2Fblocks">Create a custom tags/blocks #</a><ol><li><a href="#refs">Refs #</a></li><li><a href="#tag-with-single-parameter">Tag with single parameter #</a></li><li><a href="#tag-with-two-parameters">Tag with two parameters #</a></li><li><a href="#block-with-single-parameter">Block with single parameter #</a></li><li><a href="#nested-blocks-with-crossed-using-variables">Nested blocks with crossed-using variables #</a></li><li><a href="#problem-with-kramdown">Problem with kramdown #</a></li></ol></li><li><a href="#run-with-draft">Run with draft #</a></li><li><a href="#serve-in-background">Serve in background #</a></li><li><a href="#using-markdown-syntax-inside-a-html-tag%2Fblock">Using markdown syntax inside a HTML tag/block #</a></li><li><a href="#add-search-with-lunrjs">Add search with lunrjs #</a></li></ol></div><p>This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly reference.</p><h2 id="useful-links">Useful links <a href="#useful-links" class="direct-link">#</a></h2><div class="two-columns-list" markdown="1"><ul><li><a href="https://www.webfx.com/tools/emoji-cheat-sheet/">Jemoji cheat sheet</a>.</li><li>Link to <a href="https://jekyllrb.com/docs/liquid/tags/#linking-to-posts">post</a> / <a href="https://jekyllrb.com/docs/liquid/tags/#link">page</a>.</li><li><a href="https://learn.cloudcannon.com/jekyll-cheat-sheet/">Jekyll cheat sheet</a>.</li><li><a href="http://jwarby.github.io/jekyll-pygments-themes/languages/javascript.html">Rouge CSS file theme</a> (Pygment)</li><li><a href="http://jch.penibelst.de/">Compress HTML in Jekyll</a>.</li><li><a href="https://kramdown.gettalong.org/quickref.html">Kramdown quickref</a>.</li><li><a href="https://pages.github.com/versions/">Official dependencies / gems</a> supported by Github Pages.</li></ul></div><h2 id="using-docker-to-run%2Fdeploy-jekyll">Using docker to run/deploy jekyll <a href="#using-docker-to-run%2Fdeploy-jekyll" class="direct-link">#</a></h2><p>Read this <a href="https://github.com/dinhanhthi/my-dockerfiles/tree/master/quick-jekyll">readme</a>. An example is <a href="https://github.com/dinhanhthi/dinhanhthi.com/tree/jekyll">an old version of this site</a>.</p><h2 id="install-and-run-jekyll-on-fresh-machine">Install and run Jekyll on fresh machine <a href="#install-and-run-jekyll-on-fresh-machine" class="direct-link">#</a></h2><h3 id="ubuntu">Ubuntu <a href="#ubuntu" class="direct-link">#</a></h3><pre class="language-bash"><code class="language-bash"><span class="token comment"># install ruby-dev</span><br><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ruby-dev<br><br><span class="token comment"># install bundler</span><br><span class="token function">sudo</span> gem <span class="token function">install</span> bundler<br><br><span class="token comment"># clone a jekyll theme</span><br><span class="token comment"># cd to that theme</span><br><br><span class="token comment"># install gems in the theme</span><br>bundle <span class="token function">install</span> --path vendor/bundle<br><br><span class="token comment"># serve</span><br>bundle <span class="token builtin class-name">exec</span> jekyll serve<br><br><span class="token comment"># If error "ExecJS and could not find a JavaScript runtime"</span><br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> nodejs</code></pre><h3 id="windows">Windows <a href="#windows" class="direct-link">#</a></h3><p>Follow <a href="/docker-wsl2-windows#jekyll-on-wsl2">this guide</a> using WSL2 on Windows.</p><h2 id="make-jekyll-build-faster">Make jekyll build faster <a href="#make-jekyll-build-faster" class="direct-link">#</a></h2><div class="col-2-equal"><pre class="language-bash"><code class="language-bash"><span class="token comment"># BENCHMARKING your site</span><br>bundle <span class="token builtin class-name">exec</span> jekyll build --profile</code></pre><pre class="language-bash"><code class="language-bash"><span class="token comment"># clean cache</span><br>bundle <span class="token builtin class-name">exec</span> jekyll clean</code></pre></div><ol><li>Disable <code>jekyll-feed</code></li><li>Run <code>bundle exec jekyll serve -I</code> (wuth <code>-I</code>) to generate the changed file only. If you create a new file, open a new terminal tab and run <code>bundle exec jekyll build</code>.</li><li>Upgrade to Jekyll 4.0.</li><li>Add <code>gem "liquid-c"</code> to <code>Gemfile</code> and make <code>bundle update</code></li><li>Use <code>jekyll-include-cache</code> (both in <code>Gemfile</code> and <code>_config.yml</code>)</li></ol><p>Read more in <a href="https://forestry.io/blog/how-i-reduced-my-jekyll-build-time-by-61/">this article</a>.</p><h3 id="disable-jekyll-feed">Disable jekyll-feed <a href="#disable-jekyll-feed" class="direct-link">#</a></h3><ol><li>Comment line <code>jekyll-feed</code> in <code>Gemfile</code></li><li>Comment line <code>jekyll-feed</code> in <code>_config.yml</code></li><li>Rebuild.</li></ol><h2 id="sitemap">Sitemap <a href="#sitemap" class="direct-link">#</a></h2><p>If in <a href="https://github.com/jekyll/jekyll-sitemap">sitemap</a>, there is error like <code>&lt;loc&gt;/reading&lt;/loc&gt;</code>, check your <code>_config.yml</code> + make sure there is an url inside <code>url</code> field.</p><h2 id="loop-through-posts">Loop through posts <a href="#loop-through-posts" class="direct-link">#</a></h2><pre class="language-liquid"><code class="language-liquid">{<span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site.posts <span class="token operator">%</span>}<br>  {{ post.title }}<br>{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}</code></pre><div class="warning"><p>If you using <code>baseurl</code>,</p><pre class="language-yml"><code class="language-yml"><span class="token comment"># in _config.yml</span><br><span class="token atrule key">url</span><span class="token punctuation">:</span> <span class="token string">""</span><br><span class="token atrule key">baseurl</span><span class="token punctuation">:</span> <span class="token string">"/tools"</span></code></pre><pre class="language-liquid"><code class="language-liquid"><span class="token operator">&lt;</span>ol<span class="token operator">&gt;</span><br>	{<span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site.posts <span class="token operator">%</span>}<br>	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><br>		<span class="token operator">&lt;</span>a href<span class="token operator">=</span>"{{ site.baseurl }}{{ post.url }}"<span class="token operator">&gt;</span>{{ post.title }}<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><br>	<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><br>	{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}<br><span class="token operator">&lt;</span><span class="token operator">/</span>ol<span class="token operator">&gt;</span><br></code></pre></div><p>List all posts in each category,</p><pre class="language-liquid"><code class="language-liquid">{<span class="token operator">%</span> <span class="token keyword">for</span> category <span class="token keyword">in</span> site.data.categories <span class="token operator">%</span>}<br>  {<span class="token operator">%</span> <span class="token keyword">if</span> site.categories[category.name].size <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">%</span>}<br>    {<span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site.categories[category.name] <span class="token operator">%</span>}<br>      {{ post.title }}<br>    {<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}<br>  {<span class="token operator">%</span> <span class="token keyword">endif</span> <span class="token operator">%</span>}<br>{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}</code></pre><p>List all posts in ABC order<sup><a href="https://stackoverflow.com/questions/39922776/how-to-sort-site-posts-alphabetically-by-post-title-in-jekyll" target="_blank" rel="noopener noreferrer">[ref]</a></sup>,</p><pre class="language-liquid"><code class="language-liquid">{<span class="token operator">%</span> <span class="token keyword">assign</span> sortedPosts <span class="token operator">=</span> site.posts <span class="token operator">|</span> <span class="token function">sort</span><span class="token operator">:</span> 'title' <span class="token operator">%</span>}<br>{<span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> sortedPosts <span class="token operator">%</span>}<br>  {{ post.title }}<br>{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}</code></pre><p>List of categories and tags in a single line with commas,</p><pre class="language-liquid"><code class="language-liquid">{<span class="token operator">%</span> <span class="token keyword">for</span> category <span class="token keyword">in</span> site.categories <span class="token keyword">reversed</span> <span class="token operator">%</span>}{<span class="token operator">%</span> <span class="token keyword">capture</span> category_name <span class="token operator">%</span>}{{ category <span class="token operator">|</span> <span class="token function">first</span> }}{<span class="token operator">%</span> <span class="token keyword">endcapture</span> <span class="token operator">%</span>}<span class="token operator">&lt;</span>a href<span class="token operator">=</span>"{{site.url}}{{site.baseurl}}<span class="token operator">/</span>#{{category_name <span class="token operator">|</span> <span class="token function">replace</span><span class="token operator">:</span> " ","_"}}"<span class="token operator">&gt;</span>{{ category_name }}<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>{<span class="token operator">%</span> <span class="token keyword">if</span> forloop.length <span class="token operator">&gt;</span> <span class="token number">1</span> and forloop.last <span class="token operator">!=</span> true <span class="token operator">%</span>}, {<span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span>}.{<span class="token operator">%</span> <span class="token keyword">endif</span> <span class="token operator">%</span>}{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}</code></pre><pre class="language-liquid"><code class="language-liquid">{<span class="token operator">%</span> <span class="token keyword">for</span> tag <span class="token keyword">in</span> site.tags <span class="token operator">%</span>}{<span class="token operator">%</span> <span class="token keyword">capture</span> test <span class="token operator">%</span>}{{tag[<span class="token number">0</span>] <span class="token operator">|</span> <span class="token function">slice</span><span class="token operator">:</span> <span class="token number">0</span>}}{<span class="token operator">%</span> <span class="token keyword">endcapture</span> <span class="token operator">%</span>}{<span class="token operator">%</span> <span class="token keyword">capture</span> testup <span class="token operator">%</span>}{{tag[<span class="token number">0</span>] <span class="token operator">|</span> <span class="token function">slice</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> upcase}}{<span class="token operator">%</span> <span class="token keyword">endcapture</span> <span class="token operator">%</span>}<span class="token operator">&lt;</span>a href<span class="token operator">=</span>"#{{tag[<span class="token number">0</span>] <span class="token operator">|</span> slugify}}{<span class="token operator">%</span> <span class="token keyword">if</span> test <span class="token operator">==</span> testup <span class="token operator">%</span>}_cap{<span class="token operator">%</span> <span class="token keyword">endif</span> <span class="token operator">%</span>}"<span class="token operator">&gt;</span>{{tag[<span class="token number">0</span>]}}<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>{<span class="token operator">%</span> <span class="token keyword">if</span> forloop.length <span class="token operator">&gt;</span> <span class="token number">1</span> and forloop.last <span class="token operator">!=</span> true <span class="token operator">%</span>}, {<span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span>}.{<span class="token operator">%</span> <span class="token keyword">endif</span> <span class="token operator">%</span>}{<span class="token operator">%</span> <span class="token keyword">endfor</span> <span class="token operator">%</span>}</code></pre><h3 id="edit-tags-for-all-posts">Edit tags for all posts <a href="#edit-tags-for-all-posts" class="direct-link">#</a></h3><p>Read <a href="https://github.com/dinhanhthi/dinhanhthi.com/blob/master/pages/tags.html">this source code</a>.</p><h2 id="using-markdown-syntax-inside-html-tags">Using markdown syntax inside html tags <a href="#using-markdown-syntax-inside-html-tags" class="direct-link">#</a></h2><p>You can use directly by</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>span<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p>of only once,</p><pre class="language-html"><code class="language-html">{::options parse_block_html="true" /}<br><span class="token comment">&lt;!-- other html + markdown inside --&gt;</span></code></pre><p>Or even shorter,</p><pre><code>Testing {::nomarkdown}**see**{:/} and test.
</code></pre><h2 id="check-version">Check version <a href="#check-version" class="direct-link">#</a></h2><ul><li>Local gems: <code>gem list jekyll</code>.</li><li>Current jekyll version of website: check <code>Gemfile</code>. Need to run <code>bundle update</code> if change any version in this file.</li></ul><h2 id="link-to-posts">Link to posts <a href="#link-to-posts" class="direct-link">#</a></h2><pre><code>[Name of Link]({% post_url 2010-07-21-name-of-post %})
</code></pre><p>Edit this post on github (put below link in your post layout),</p><pre><code>https://github.com/dinhanhthi/dinhanhthi.com/edit/master/{{path.path}}
</code></pre><h2 id="custom-domain-%26-repository-with-jekyll-sites">Custom domain &amp; repository with Jekyll sites <a href="#custom-domain-%26-repository-with-jekyll-sites" class="direct-link">#</a></h2><p>There are several choices for you to choose, it depends on your need.</p><h3 id="you-don't-have-a-custom-domain">You don't have a custom domain <a href="#you-don't-have-a-custom-domain" class="direct-link">#</a></h3><ol><li>Suppose your github account is <code>&lt;username&gt;</code>.</li><li>Create a repo <code>&lt;username&gt;.github.io</code>.</li><li>Put your site in branch <code>master</code> (default).</li><li>Your site is published at <code>https://&lt;username&gt;.github.io</code></li></ol><p>If you wanna store your site in a custom repo, e.g. <code>mysite</code>:</p><p class="indent"></p><ol><li>Create a branch <code>gh-pages</code> + set it as default + store your site here.</li><li>Remove content at <code>url:</code> in <code>_config.yml</code>.</li><li>Your site is live at <code>https://&lt;username&gt;.github.io/mysite/</code></li></ol><h3 id="you-have-a-custom-domain">You have a custom domain <a href="#you-have-a-custom-domain" class="direct-link">#</a></h3><ol><li>Create file <code>CNAME</code> at root and put <code>&lt;customdomain&gt;.com</code> in it.</li><li>Create <code>A</code> or <code>CNAME</code> record in DNS provider. Check <a href="https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site">more</a>.</li><li>You can also use <a href="http://netlify.com">netlify</a> to set all things up automatically.</li></ol><h2 id="using-custom-plugins%3F">Using custom plugins? <a href="#using-custom-plugins%3F" class="direct-link">#</a></h2><ol><li>Build your site locally and get a folder <code>_site</code>.</li><li>Put it to github and see the results.</li></ol><p>You can also use <a href="https://netlify.com"><code>netlify</code></a>, it accepts custom plugin as well.</p><h2 id="using-_data-with-include">Using <code>_data</code> with <code>include</code> <a href="#using-_data-with-include" class="direct-link">#</a></h2><p>You can use,</p><pre><code>{% include proud-of.html data=site.data.proudof-notes %}
</code></pre><p>where there is a data file located in <code>_data/proudof-notes.yml</code>.</p><h2 id="create-a-custom-tags%2Fblocks">Create a custom tags/blocks <a href="#create-a-custom-tags%2Fblocks" class="direct-link">#</a></h2><h3 id="refs">Refs <a href="#refs" class="direct-link">#</a></h3><ul><li><a href="https://jekyllrb.com/docs/plugins/tags/">Official Jekyll guid</a>.</li><li><a href="https://blog.sverrirs.com/2016/04/custom-jekyll-tags.html">How to create customizable Liquid tags</a> in Jekyll by Sverrir Sigmundarson.</li><li><a href="http://mikelui.io/2018/07/22/jekyll-nested-blocks.html">Creating an Accordion Plugin for Jekyll</a> by Mike Lui.</li></ul><h3 id="tag-with-single-parameter">Tag with single parameter <a href="#tag-with-single-parameter" class="direct-link">#</a></h3><div class="col-2-equal"><pre><code>{% render_time page rendered at: %}
</code></pre><pre class="language-html"><code class="language-html">page rendered at: Tue June 22 23:38:47 â€“0500 2010</code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_single_tag.rb</code> whose content is,</p><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">module</span> <span class="token constant">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">RenderTimeTag</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Tag</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> text<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@text</span> <span class="token operator">=</span> text<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      <span class="token string">"<span class="token interpolation"><span class="token tag delimiter">#{</span><span class="token variable">@text</span><span class="token tag delimiter">}</span></span> <span class="token interpolation"><span class="token tag delimiter">#{</span><span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token tag delimiter">}</span></span>"</span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'render_time'</span><span class="token punctuation">,</span> <span class="token constant">Jekyll</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">RenderTimeTag</span><span class="token punctuation">)</span></code></pre><h3 id="tag-with-two-parameters">Tag with two parameters <a href="#tag-with-two-parameters" class="direct-link">#</a></h3><div class="col-2-equal"><pre><code>{% badge update | green %}
</code></pre><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tbadge badge-green<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>update<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_badge.rb</code> whose content is,</p><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Badge</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Tag</span><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> input<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>    <span class="token keyword">super</span><br>    <span class="token variable">@input</span> <span class="token operator">=</span> input<br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>    <span class="token comment"># Split the input variable (omitting error checking)</span><br>    input_split <span class="token operator">=</span> split_params<span class="token punctuation">(</span><span class="token variable">@input</span><span class="token punctuation">)</span><br>    text <span class="token operator">=</span> input_split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<br>    color <span class="token operator">=</span> input_split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<br><br>    <span class="token comment"># Write the output HTML string</span><br>    output <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token constant">EOS</span><br>      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tbadge badge-<span class="token interpolation"><span class="token tag delimiter">#{</span>color<span class="token tag delimiter">}</span></span>"</span><span class="token operator">&gt;</span><span class="token comment">#{text}&lt;/span&gt;</span><br>    <span class="token constant">EOS</span><br><br>    <span class="token comment"># Render it on the page by returning it</span><br>    <span class="token keyword">return</span> output<span class="token punctuation">;</span><br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">split_params</span></span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><br>    params<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">)</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'badge'</span><span class="token punctuation">,</span> <span class="token constant">Badge</span><span class="token punctuation">)</span></code></pre><h3 id="block-with-single-parameter">Block with single parameter <a href="#block-with-single-parameter" class="direct-link">#</a></h3><p>For example, we wanna create a custom block <code>alertbox</code> using <a href="https://getbootstrap.com/docs/4.1/components/alerts/">class from Bootstrap</a>.</p><div class="col-2-equal"><pre><code>{% alertbox warning %}
Content
{% endalertbox %}
</code></pre><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert alert-warning<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>Content<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_alert.rb</code> whose content is,</p><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">module</span> <span class="token constant">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">Alertbox</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Block</span><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> input<span class="token punctuation">,</span> liquid_options<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@input</span> <span class="token operator">=</span> input<span class="token punctuation">.</span>strip<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      content <span class="token operator">=</span> <span class="token keyword">super</span><br><br>      <span class="token keyword">case</span> <span class="token variable">@input</span><br>      <span class="token keyword">when</span> <span class="token string">"warning"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'warning'</span><br>      <span class="token keyword">when</span> <span class="token string">"success"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'success'</span><br>      <span class="token keyword">when</span> <span class="token string">"primary"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'primary'</span><br>      <span class="token keyword">when</span> <span class="token string">"secondary"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'secondary'</span><br>      <span class="token keyword">when</span> <span class="token string">"danger"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'danger'</span><br>      <span class="token keyword">when</span> <span class="token string">"info"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'info'</span><br>      <span class="token keyword">when</span> <span class="token string">"light"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'light'</span><br>      <span class="token keyword">when</span> <span class="token string">"dark"</span><br>        box_type <span class="token operator">=</span> <span class="token string">'dark'</span><br>      <span class="token keyword">end</span><br><br>      output <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token constant">EOS</span><br>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"alert alert-<span class="token interpolation"><span class="token tag delimiter">#{</span>box_type<span class="token tag delimiter">}</span></span>"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span><br>          <span class="token comment">#{content}</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>      <span class="token constant">EOS</span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'alertbox'</span><span class="token punctuation">,</span> <span class="token constant">Jekyll</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">AlertBox</span><span class="token punctuation">)</span></code></pre><h3 id="nested-blocks-with-crossed-using-variables">Nested blocks with crossed-using variables <a href="#nested-blocks-with-crossed-using-variables" class="direct-link">#</a></h3><p>A more complicated example, suppose that you wanna create a <strong class="tbrown">hide/show box</strong> using <a href="https://getbootstrap.com/docs/4.1/components/collapse/">Bootstrap's Collapse</a>, you can use below shortcode. Its advantage is that you don't have to put manually the <code>id</code> for each box! Wonderful!</p><div class="col-2-equal"><pre><code>{% hsbox %}

{% hstitle %}
Box's title
{% endhstitle %}

{% hscontent %}
Box's content.
{% endhscontent %}

{% endhsbox %}
</code></pre><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-show-box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn collapsed box-button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#box1ct<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>Box's title<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box1ct<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse multi-collapse box-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>Box's content.<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_hideshowbox.rb</code> whose content is,</p><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">module</span> <span class="token constant">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">HideShowBox</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Block</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">generate_box_id</span></span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><br>      charset <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'z'</span><span class="token punctuation">)</span><br>      <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token punctuation">{</span> charset<span class="token punctuation">.</span>sample <span class="token punctuation">}</span><span class="token punctuation">.</span>join<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      context<span class="token punctuation">.</span>stack <span class="token keyword">do</span><br>        context<span class="token punctuation">[</span><span class="token string">"boxID"</span><span class="token punctuation">]</span> <span class="token operator">=</span> generate_box_id<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment"># create the box's ID</span><br>        <span class="token variable">@content</span> <span class="token operator">=</span> <span class="token keyword">super</span><br>      <span class="token keyword">end</span><br>      <span class="token string">"&lt;div class=\"hide-show-box\"&gt;<span class="token interpolation"><span class="token tag delimiter">#{</span><span class="token variable">@content</span><span class="token tag delimiter">}</span></span>&lt;/div&gt;"</span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">class</span> <span class="token class-name">HSBtitle</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Tag</span><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@title</span> <span class="token operator">=</span> contain<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      boxID <span class="token operator">=</span> context<span class="token punctuation">[</span><span class="token string">"boxID"</span><span class="token punctuation">]</span> <span class="token comment"># get the box's ID</span><br><br>      output <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token constant">EOS</span><br>        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn collapsed box-button"</span> data<span class="token operator">-</span>toggle<span class="token operator">=</span><span class="token string">"collapse"</span> data<span class="token operator">-</span>target<span class="token operator">=</span><span class="token string">"#<span class="token interpolation"><span class="token tag delimiter">#{</span>boxID<span class="token tag delimiter">}</span></span>"</span><span class="token operator">&gt;</span><span class="token comment">#{@title}&lt;/button&gt;</span><br>      <span class="token constant">EOS</span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">class</span> <span class="token class-name">HSBcontent</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Block</span><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@showBox</span> <span class="token operator">=</span> contain<span class="token punctuation">.</span>strip<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      boxID <span class="token operator">=</span> context<span class="token punctuation">[</span><span class="token string">"boxID"</span><span class="token punctuation">]</span> <span class="token comment"># get the box's ID</span><br>      <span class="token keyword">if</span> <span class="token variable">@showBox</span> <span class="token operator">==</span> <span class="token string">'show'</span><br>        classShow <span class="token operator">=</span> <span class="token string">'show'</span><br>      <span class="token keyword">else</span><br>        classShow <span class="token operator">=</span> <span class="token string">''</span><br>      <span class="token keyword">end</span><br>      output <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token constant">EOS</span><br>        <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"<span class="token interpolation"><span class="token tag delimiter">#{</span>boxID<span class="token tag delimiter">}</span></span>"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"collapse multi-collapse box-content <span class="token interpolation"><span class="token tag delimiter">#{</span>classShow<span class="token tag delimiter">}</span></span>"</span><span class="token operator">&gt;</span><br>          <span class="token comment">#{super}</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>      <span class="token constant">EOS</span><br><br>      output<br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'hsbox'</span><span class="token punctuation">,</span> <span class="token constant">Jekyll</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HideShowBox</span><span class="token punctuation">)</span><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'hstitle'</span><span class="token punctuation">,</span> <span class="token constant">Jekyll</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HSBtitle</span><span class="token punctuation">)</span><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'hscontent'</span><span class="token punctuation">,</span> <span class="token constant">Jekyll</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HSBcontent</span><span class="token punctuation">)</span></code></pre><p>ðŸ’¡ Actually, there is a <strong class="tbrown">simpler solution</strong> for this task. We can get</p><div class="col-2-equal"><pre><code>{% hsbox **Box's title** | show %}
Box's content.
{% endhsbox %}
</code></pre><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-show-box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn collapsed box-button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#something<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>Box's title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>something<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse multi-collapse box-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>Box's content.<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>by using</p><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">module</span> <span class="token constant">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">HideShowBox</span> <span class="token operator">&lt;</span> <span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Block</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@input</span> <span class="token operator">=</span> contain<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">generate_box_id</span></span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><br>      charset <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'z'</span><span class="token punctuation">)</span><br>      <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token punctuation">{</span> charset<span class="token punctuation">.</span>sample <span class="token punctuation">}</span><span class="token punctuation">.</span>join<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      <span class="token comment"># Split the input variable (omitting error checking)</span><br>      input_split <span class="token operator">=</span> split_params<span class="token punctuation">(</span><span class="token variable">@input</span><span class="token punctuation">)</span><br>      title <span class="token operator">=</span> input_split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><br>      boxid <span class="token operator">=</span> generate_box_id<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><br>      <span class="token keyword">if</span> input_split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">nil</span><br>        <span class="token keyword">if</span> input_split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip <span class="token operator">==</span> <span class="token string">'show'</span><br>          showbox <span class="token operator">=</span> <span class="token string">"show"</span><br>        <span class="token keyword">else</span><br>          showbox <span class="token operator">=</span> <span class="token string">""</span><br>        <span class="token keyword">end</span><br>      <span class="token keyword">else</span><br>        showbox <span class="token operator">=</span> <span class="token string">""</span><br>      <span class="token keyword">end</span><br>      content <span class="token operator">=</span> <span class="token keyword">super</span><br><br>      output <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token constant">EOS</span><br>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hide-show-box"</span><span class="token operator">&gt;</span><br>          <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn collapsed box-button"</span> data<span class="token operator">-</span>toggle<span class="token operator">=</span><span class="token string">"collapse"</span> data<span class="token operator">-</span>target<span class="token operator">=</span><span class="token string">"#<span class="token interpolation"><span class="token tag delimiter">#{</span>boxid<span class="token tag delimiter">}</span></span>"</span><span class="token operator">&gt;</span><br>            <span class="token comment">#{title}</span><br>          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><br>          <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"<span class="token interpolation"><span class="token tag delimiter">#{</span>boxid<span class="token tag delimiter">}</span></span>"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"collapse multi-collapse box-content <span class="token interpolation"><span class="token tag delimiter">#{</span>showbox<span class="token tag delimiter">}</span></span>"</span><span class="token operator">&gt;</span><br>            <span class="token comment">#{content}</span><br>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>      <span class="token constant">EOS</span><br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">split_params</span></span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><br>      params<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">)</span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br><span class="token constant">Liquid</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Template</span><span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string">'hsbox'</span><span class="token punctuation">,</span> <span class="token constant">Jekyll</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HideShowBox</span><span class="token punctuation">)</span></code></pre><h3 id="problem-with-kramdown">Problem with kramdown <a href="#problem-with-kramdown" class="direct-link">#</a></h3><p>Somtimes, we cannot use <code>markdown="1"</code> directly in ruby file. For example, below block of code produces a block of codes (<code>&lt;pre&gt;</code>) instead of a single text,</p><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> input<span class="token punctuation">,</span> liquid_options<span class="token punctuation">)</span><br>  <span class="token keyword">super</span><br>  <span class="token variable">@title</span> <span class="token operator">=</span> input<br><span class="token keyword">end</span><br><br><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>  content <span class="token operator">=</span> <span class="token keyword">super</span><br>  output <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token constant">EOS</span><br>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"def-box"</span> id<span class="token operator">=</span><span class="token string">"dn1"</span><span class="token operator">&gt;</span><br>      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box-title"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span><br>        <span class="token comment">#{@title}</span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box-content"</span> markdown<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span><br>        <span class="token comment">#{content}</span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><br>  <span class="token constant">EOS</span><br><span class="token keyword">end</span></code></pre><p>Instead, we change a little bit like this,</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box-title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>span<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>#{@title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="run-with-draft">Run with draft <a href="#run-with-draft" class="direct-link">#</a></h2><p>Inside the root folder, create a folder named <code>_drafts</code>. You can put your draft posts inside this folder and whenever you wanna show it in your site, use this command,</p><pre class="language-bash"><code class="language-bash">bundle <span class="token builtin class-name">exec</span> jekyll serve --draft</code></pre><p>In the case you have already build your site (all new posts are rendered to <code>_site</code>), you only changes some small things in some post and you don't want jekyll to render again all things on your site (just look at your current post), use this,</p><pre class="language-bash"><code class="language-bash">bundle <span class="token builtin class-name">exec</span> jekyll serve -I</code></pre><h2 id="serve-in-background">Serve in background <a href="#serve-in-background" class="direct-link">#</a></h2><div class="col-2-equal"><pre class="language-bash"><code class="language-bash"><span class="token comment"># start</span><br>bundle <span class="token builtin class-name">exec</span> jekyll serve <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span><br>bundle <span class="token builtin class-name">exec</span> jekyll serve -I <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span></code></pre><pre class="language-bash"><code class="language-bash"><span class="token comment"># stop</span><br><span class="token comment"># find jekyll server process</span><br><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> jekyll<br><span class="token comment"># substitute pid# with process id</span><br><span class="token function">kill</span> -9 pid<span class="token comment">#</span></code></pre></div><h2 id="using-markdown-syntax-inside-a-html-tag%2Fblock">Using markdown syntax inside a HTML tag/block <a href="#using-markdown-syntax-inside-a-html-tag%2Fblock" class="direct-link">#</a></h2><p>For a block, we use <code>markdown="1"</code>,</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>paragraph<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p>For a tag, we use <code>markdown="span"</code>,</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mark</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>span<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="add-search-with-lunrjs">Add search with lunrjs <a href="#add-search-with-lunrjs" class="direct-link">#</a></h2><p>Download <a href="/js/lunr.min.js">lunr.min.js</a> and <a href="/js/search.js">search.js</a> and put them in <code>root/js/</code>. The newest version of lunrjs given here but I'm not sur if it works with this technique or not.</p><p>Create a file <code>search.html</code> in the root folder with content:</p><pre class="language-html"><code class="language-html">---<br>layout: page<br>title: Search on this page<br>---<br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p-intro<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-process<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{re_loading}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> {{re_result}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-query-container<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token language-css style"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>{{re_forkey}} "<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-query<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-results<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><br>  window<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site<span class="token punctuation">.</span>posts <span class="token operator">%</span><span class="token punctuation">}</span><br>      <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> post<span class="token punctuation">.</span>title <span class="token operator">%</span><span class="token punctuation">}</span><br>        <span class="token punctuation">{</span><span class="token operator">%</span> unless post<span class="token punctuation">.</span>excluded_in_search <span class="token operator">%</span><span class="token punctuation">}</span><br>          <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> added <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span><br>          <span class="token punctuation">{</span><span class="token operator">%</span> assign added <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">%</span><span class="token punctuation">}</span><br>          <span class="token string">"{{ post.url | slugify }}"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>            <span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"{{ post.url | slugify }}"</span><span class="token punctuation">,</span><br>            <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"{{ post.title | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token string">"categories"</span><span class="token operator">:</span> <span class="token string">"{{ post.categories | join: "</span><span class="token punctuation">,</span> <span class="token string">" | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token string">"tags"</span><span class="token operator">:</span> <span class="token string">"{{ post.tags | join: "</span><span class="token punctuation">,</span> <span class="token string">" | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">" {{ post.url | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token string">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> post<span class="token punctuation">.</span>content <span class="token operator">|</span> strip_html <span class="token operator">|</span> replace_regex<span class="token operator">:</span> <span class="token string">"[\s/\n]+"</span><span class="token punctuation">,</span><span class="token string">" "</span> <span class="token operator">|</span> strip <span class="token operator">|</span> jsonify <span class="token punctuation">}</span><span class="token punctuation">}</span><br>          <span class="token punctuation">}</span><br>          <span class="token punctuation">{</span><span class="token operator">%</span> assign added <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">%</span><span class="token punctuation">}</span><br>        <span class="token punctuation">{</span><span class="token operator">%</span> endunless <span class="token operator">%</span><span class="token punctuation">}</span><br>      <span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span><br>    <span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ site.baseurl }}/js/lunr.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ site.baseurl }}/js/search.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>Note that, you can change some personal settings in the files <code>search.js</code> and <code>search.html</code> if you like.</p><p><strong>Remark</strong>: if your site has so many posts, you can remove the last line (<code>"content"....</code>) to ignore the content from the search. You can even add "keywords" (resplace for "content") and put that "keywords" in the frontmatter, change also the term "content" in <code>search.js</code> by "keywords". That's what I did on this site.</p></div><script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Jekyll + Liquid",
        "image": [],
        "author": "Anh-Thi DINH",
        "genre": "Insert a schema.org genre",
        "url": "https://dinhanhthi.com/jekyll-tips/",
        "mainEntityOfPage": "https://dinhanhthi.com/jekyll-tips/",
        "datePublished": "02-09-2019",
        "dateModified": "15-12-2020",
        "description": "This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly..."
      }</script></article></main><footer><a href="/" target="_blank">Thi &nbsp;Â©&nbsp; 2021 </a>&nbsp;â€¢&nbsp; <a href="/about-the-notes/">About the notes </a>&nbsp;â€¢&nbsp; <a href="/about/">About me </a>&nbsp;â€¢&nbsp; <a href="https://photos.app.goo.gl/9OVEkdTjmtRPg7vC3" target="_blank">My sketches </a>&nbsp;â€¢&nbsp; <a href="https://goo.gl/photos/yQXdQws1LLS16x5v5" target="_blank">I cook </a>&nbsp;â€¢&nbsp; <a href="/for-me-only/">For me only </a>&nbsp;â€¢&nbsp; <a href="/donate/">Support Thi</a></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"></script><script src="https://www.googletagmanager.com/gtag/js?id=G-K3YRSB918B" async=""></script><script>window.dataLayer = window.dataLayer || [];
		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());
		gtag('config', 'G-K3YRSB918B');</script><script src="/js/min.js?hash=55f12dd190" async="" defer=""></script></body></html>